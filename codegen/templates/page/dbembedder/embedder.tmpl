// onceembedder/embedder.tmpl
// The template for the embedder.go file at the top level of the gen directory.

{{
// Code generated by goradd. DO NOT EDIT.

//go:build !release

package {{= dd.DbKey}}

// This file embeds the index.html file found here. The go:build statement above will cause this directory to
// be included only when the "release" tag is not included when building.
//
// The files in the directory here are generated and designed to give you the starting
// point for your application. During development, you should move the files that you
// are using out of these directories and the "web" directory. The exception to this
// rule is the files in the "model" directory. See the doc.
//
// For deployment, the files you modify should be copied to the deployment directory, compressed
// and embedded from there. See goradd-project/build and goradd-project/deploy.
// The scripts there do these steps and add the "release" tag for the final build.
//
// This file must be imported for it to work.

import (
	"embed"

	_ "goradd-project/gen/{{= dd.DbKey}}/form" // Causes the init() functions to fire in the source code of each of the forms.

	"github.com/goradd/goradd/pkg/http"
)

//go:embed index.html
var a embed.FS

// init sets up the file system and url router when this file is imported by the application (or
// another file that in turn imports this file).
func init() {
	fs := http.FileSystemServer{ Fsys: a, SendModTime: true, Hide: []string{".go", ".got", ".tmp"} }
	http.RegisterAppPrefixHandler("/goradd/forms/{{= dd.DbKey}}", fs)
}

}}
